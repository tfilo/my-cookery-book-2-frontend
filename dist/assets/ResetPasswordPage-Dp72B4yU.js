import{n as P,u as f,r as t,y as b,j as e,p as k,o as g,I as r,B as z,d as M,M as d,s as S,ah as E,f as q,v as C,x as n,a9 as F}from"./index-Djf207zA.js";const N=C({username:n().trim().min(4,"Musia byť minimálne 4 znaky").max(50,"Musí byť maximálne 50 znakov").required("Povinná položka"),key:n().trim().max(36,"Musí byť maximálne 36 znakov").required("Povinná položka"),newPassword:n().trim().min(8,"Musí byť minimálne 8 znakov").max(255,"Musí byť maximálne 255 znakov").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/,"Musí obsahovať aspoň jedno malé písmeno, jedno veľké písmeno a jedno číslo").required("Povinná položka"),confirmPassword:n().trim().oneOf([F("newPassword")],"Zadané heslá sa nezhodujú").required("Povinná položka")}).required(),I=()=>{const o=P({resolver:S(N)}),{formState:{isSubmitting:u},reset:i}=o,h=f(),[m,l]=t.useState(),[x,p]=t.useState(!1),{username:s,key:a}=b();t.useEffect(()=>{s&&a&&i({username:s,key:a})},[i,s,a]);const j=async({confirmPassword:v,...c})=>{try{if(v!==c.newPassword)throw new Error("Passwords doesnt match");await E.resetPassword(c),p(!0)}catch(w){q(w).then(y=>l(y))}};return e.jsxs("div",{className:"row justify-content-center",children:[e.jsxs("div",{className:"col-lg-6 pt-3",children:[e.jsx("h1",{children:"Zmena hesla"}),e.jsx(k,{...o,children:e.jsxs(g,{onSubmit:o.handleSubmit(j),noValidate:!0,children:[!s&&!a&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-primary",children:"Pre zmenu hesla prosím zadajte prihlasovacie meno a registračný kľúč."}),e.jsx(r,{name:"username",label:"Prihlasovacie meno",type:"text"}),e.jsx(r,{name:"key",label:"Registračný kľúč",type:"text"})]}),e.jsx(r,{name:"newPassword",label:"Heslo"}),e.jsx(r,{name:"confirmPassword",label:"Potvrdenie hesla"}),e.jsx(z,{variant:"primary",type:"submit",children:"Potvrdiť"}),e.jsx(M,{show:u})]})})]}),e.jsx(d,{show:!!m,message:m,type:"error",onClose:()=>{l(void 0)}}),e.jsx(d,{show:x,message:"Zmena hesla prebehla úspešne.",type:"info",onClose:()=>{h("/signIn")}})]})};export{I as default};
//# sourceMappingURL=ResetPasswordPage-Dp72B4yU.js.map
