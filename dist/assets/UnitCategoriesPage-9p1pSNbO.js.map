{"version":3,"file":"UnitCategoriesPage-9p1pSNbO.js","sources":["../../src/components/unitCategories/Units.tsx","../../src/pages/unitCategories/UnitCategoriesPage.tsx"],"sourcesContent":["import { faPencil, faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { Button, Stack } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport { Api } from '../../openapi';\nimport { AuthContext } from '../../store/auth-context';\nimport { unitApi } from '../../utils/apiWrapper';\nimport { formatErrorMessage } from '../../utils/errorMessages';\nimport Modal from '../ui/Modal';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\n\nconst Units: React.FC<{\n    unitCategoryId: number;\n    setIsLoading: (loading: boolean) => void;\n}> = (props) => {\n    const [error, setError] = useState<string>();\n    const [unit, setUnit] = useState<Api.SimpleUnit>();\n    const navigate = useNavigate();\n    const { unitCategoryId, setIsLoading } = props;\n    const queryClient = useQueryClient();\n    const authCtx = useContext(AuthContext);\n\n    const {\n        data: listOfUnits,\n        isFetching: isFetchingListOfUnits,\n        error: listOfUnitsError\n    } = useQuery({\n        queryKey: ['unitcategories', unitCategoryId, 'units'] as const,\n        queryFn: ({ queryKey, signal }) =>\n            unitApi.getUnitsByUnitCategory(queryKey[1], { signal }).then((data) =>\n                data.sort((a, b) =>\n                    a.name.localeCompare(b.name, undefined, {\n                        sensitivity: 'base'\n                    })\n                )\n            )\n    });\n\n    useEffect(() => {\n        if (listOfUnitsError) {\n            formatErrorMessage(listOfUnitsError).then((message) => setError(message));\n        }\n    }, [listOfUnitsError]);\n\n    const editUnitHandler = (id: number) => {\n        navigate(`/unit/${unitCategoryId}/${id}`);\n    };\n\n    const deleteUnitHandler = (unit: Api.SimpleUnit) => {\n        setUnit(unit);\n    };\n\n    const { mutate: deleteUnit, isPending: isDeleteingUnit } = useMutation({\n        mutationFn: (unitId: number) => unitApi.deleteUnit(unitId),\n        onMutate: async (unitId) => {\n            await queryClient.cancelQueries({ queryKey: ['unitcategories', unitCategoryId, 'units'] });\n            const units = queryClient.getQueryData<Api.SimpleUnit[]>(['unitcategories', unitCategoryId, 'units']);\n            queryClient.setQueryData<Api.SimpleUnit[]>(['unitcategories', unitCategoryId, 'units'], (old) =>\n                old?.filter((u) => u.id !== unitId)\n            );\n            const removed = units?.find((u) => u.id === unitId);\n            const index = units?.findIndex((u) => u.id === unitId);\n            return {\n                removed,\n                index\n            };\n        },\n        onSuccess: (data, unitId) => {\n            queryClient.removeQueries({\n                queryKey: ['unitcategories', unitCategoryId, 'units', unitId]\n            });\n        },\n        onError: (error, categoryId, context) => {\n            queryClient.setQueryData<Api.SimpleUnit[]>(['unitcategories', unitCategoryId, 'units'], (old) => {\n                if (old && context && context.index !== undefined && context.removed) {\n                    return [...old.slice(0, context.index), context.removed, ...old.slice(context.index)];\n                }\n                return undefined;\n            });\n            formatErrorMessage(error).then((message) => setError(message));\n        }\n    });\n\n    const deleteUnitConfirmHandler = useCallback(\n        (confirmed: boolean) => {\n            if (confirmed) {\n                if (unit) {\n                    deleteUnit(unit.id);\n                }\n            }\n            setUnit(undefined);\n        },\n        [unit, deleteUnit]\n    );\n\n    useEffect(() => {\n        setIsLoading(isFetchingListOfUnits || isDeleteingUnit);\n    }, [setIsLoading, isFetchingListOfUnits, isDeleteingUnit]);\n\n    return (\n        <>\n            <tbody>\n                {listOfUnits?.map((unit) => (\n                    <tr key={unit.id}>\n                        <td className='align-middle'>{unit.name}</td>\n                        <td className='align-middle'>{unit.abbreviation}</td>\n                        {authCtx.userRoles.find((role) => role === Api.User.RoleEnum.ADMIN) && (\n                            <Stack\n                                as={'td'}\n                                direction='horizontal'\n                                gap={2}\n                                className='justify-content-end'\n                            >\n                                <Button\n                                    title='Upraviť'\n                                    aria-label='Upraviť'\n                                    variant='outline-secondary'\n                                    onClick={editUnitHandler.bind(null, unit.id)}\n                                    className='border-0'\n                                >\n                                    <FontAwesomeIcon icon={faPencil} />\n                                </Button>\n                                <Button\n                                    title='Vymazať'\n                                    aria-label='Vymazať'\n                                    variant='outline-danger'\n                                    onClick={deleteUnitHandler.bind(null, unit)}\n                                    className='border-0'\n                                >\n                                    <FontAwesomeIcon icon={faTrash} />\n                                </Button>\n                            </Stack>\n                        )}\n                    </tr>\n                ))}\n            </tbody>\n            <Modal\n                show={!!unit}\n                type='question'\n                message={`Prajete si vymazať značku \"${unit?.name}\" ?`}\n                onClose={deleteUnitConfirmHandler}\n            />\n            <Modal\n                show={!!error}\n                message={error}\n                type='error'\n                onClose={() => {\n                    setError(undefined);\n                }}\n            />\n        </>\n    );\n};\n\nexport default Units;\n","import React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Button, Stack, Table } from 'react-bootstrap';\nimport { faCirclePlus, faPencil, faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { AuthContext } from '../../store/auth-context';\nimport { Api } from '../../openapi';\nimport { unitCategoryApi } from '../../utils/apiWrapper';\nimport { formatErrorMessage } from '../../utils/errorMessages';\nimport Modal from '../../components/ui/Modal';\nimport Spinner from '../../components/ui/Spinner';\nimport Units from '../../components/unitCategories/Units';\n\nconst UnitCategoriesPage: React.FC = () => {\n    const [error, setError] = useState<string>();\n    const [unitCategory, setUnitCategory] = useState<Api.SimpleUnitCategory>();\n    const [isUnitsLoading, setIsUnitsLoading] = useState<boolean>(false);\n    const navigate = useNavigate();\n    const queryClient = useQueryClient();\n    const authCtx = useContext(AuthContext);\n\n    const {\n        data: listOfUnitCategories,\n        isFetching: isFetchingListOfUnitCategories,\n        error: listOfUnitCategoriesError\n    } = useQuery({\n        queryKey: ['unitcategories'],\n        queryFn: ({ signal }) =>\n            unitCategoryApi.getUnitCategories({ signal }).then((data) =>\n                data.sort((a, b) =>\n                    a.name.localeCompare(b.name, undefined, {\n                        sensitivity: 'base'\n                    })\n                )\n            )\n    });\n\n    useEffect(() => {\n        if (listOfUnitCategoriesError) {\n            formatErrorMessage(listOfUnitCategoriesError).then((message) => setError(message));\n        }\n    }, [listOfUnitCategoriesError]);\n\n    const createUnitCategoryHandler = () => {\n        navigate('/unitCategory');\n    };\n\n    const createUnitHandler = (unitCategoryId: number) => {\n        navigate(`/unit/${unitCategoryId}`);\n    };\n\n    const editUnitCategoryHandler = (id: number) => {\n        navigate(`/unitCategory/${id}`);\n    };\n\n    const deleteUnitCategoryHandler = (unitCategory: Api.SimpleUnitCategory) => {\n        setUnitCategory(unitCategory);\n    };\n\n    const { mutate: deleteUnitCategory, isPending: isDeleteingUnitCategory } = useMutation({\n        mutationFn: (unitCategoryId: number) => unitCategoryApi.deleteUnitCategory(unitCategoryId),\n        onMutate: async (unitCategoryId) => {\n            await queryClient.cancelQueries({ queryKey: ['unitcategories'] });\n            const unitCategories = queryClient.getQueryData<Api.SimpleUnitCategory[]>(['unitcategories']);\n            queryClient.setQueryData<Api.SimpleUnitCategory[]>(['unitcategories'], (old) => old?.filter((uc) => uc.id !== unitCategoryId));\n            const removed = unitCategories?.find((uc) => uc.id === unitCategoryId);\n            const index = unitCategories?.findIndex((uc) => uc.id === unitCategoryId);\n            return {\n                removed,\n                index\n            };\n        },\n        onSuccess: (data, unitCategoryId) => {\n            queryClient.removeQueries({\n                queryKey: ['unitcategories', unitCategoryId]\n            });\n        },\n        onError: (error, unitCategoryId, context) => {\n            queryClient.setQueryData<Api.SimpleUnitCategory[]>(['unitcategories'], (old) => {\n                if (old && context && context.index !== undefined && context.removed) {\n                    return [...old.slice(0, context.index), context.removed, ...old.slice(context.index)];\n                }\n                return undefined;\n            });\n            formatErrorMessage(error).then((message) => setError(message));\n        }\n    });\n\n    const deleteUnitCategoryConfirmHandler = useCallback(\n        (confirmed: boolean) => {\n            if (confirmed) {\n                if (unitCategory) {\n                    deleteUnitCategory(unitCategory.id);\n                }\n            }\n            setUnitCategory(undefined);\n        },\n        [deleteUnitCategory, unitCategory]\n    );\n\n    return (\n        <>\n            <div className='d-flex flex-column flex-md-row'>\n                <h1 className='flex-grow-1'>Jednotky</h1>\n                {authCtx.userRoles.find((role) => role === Api.User.RoleEnum.ADMIN) && (\n                    <Button\n                        variant='primary'\n                        onClick={createUnitCategoryHandler}\n                    >\n                        Pridať kategóriu jednotky\n                    </Button>\n                )}\n            </div>\n            <div>\n                {listOfUnitCategories?.map((unitCategory) => (\n                    <Table\n                        striped\n                        responsive\n                        key={unitCategory.id}\n                    >\n                        <thead>\n                            <tr>\n                                <Stack\n                                    as={'th'}\n                                    className='border-0'\n                                    colSpan={3}\n                                    direction='horizontal'\n                                    gap={2}\n                                >\n                                    {unitCategory.name}\n                                    {authCtx.userRoles.find((role) => role === Api.User.RoleEnum.ADMIN) && (\n                                        <Stack\n                                            className='border-0'\n                                            direction='horizontal'\n                                            gap={2}\n                                        >\n                                            <Button\n                                                title={`Pridať kategóriu jednotky ${unitCategory.name}`}\n                                                aria-label={`Pridať kategóriu jednotky ${unitCategory.name}`}\n                                                variant='outline-success'\n                                                type='button'\n                                                onClick={createUnitHandler.bind(null, unitCategory.id)}\n                                            >\n                                                <FontAwesomeIcon icon={faCirclePlus} />\n                                            </Button>\n                                            <Button\n                                                title={`Upraviť kategóriu jednotky ${unitCategory.name}`}\n                                                aria-label={`Upraviť kategóriu jednotky ${unitCategory.name}`}\n                                                variant='outline-secondary'\n                                                onClick={editUnitCategoryHandler.bind(null, unitCategory.id)}\n                                            >\n                                                <FontAwesomeIcon icon={faPencil} />\n                                            </Button>\n                                            <Button\n                                                title={`Vymazať kategóriu jednotky ${unitCategory.name}`}\n                                                aria-label={`Vymazať kategóriu jednotky ${unitCategory.name}`}\n                                                variant='outline-danger'\n                                                onClick={deleteUnitCategoryHandler.bind(null, unitCategory)}\n                                            >\n                                                <FontAwesomeIcon icon={faTrash} />\n                                            </Button>\n                                        </Stack>\n                                    )}\n                                </Stack>\n                            </tr>\n                            <tr>\n                                <th>Názov jednotky</th>\n                                <th colSpan={2}>Skratka jednotky</th>\n                            </tr>\n                        </thead>\n                        <Units\n                            unitCategoryId={unitCategory.id}\n                            setIsLoading={setIsUnitsLoading}\n                        />\n                    </Table>\n                ))}\n            </div>\n            <Spinner show={isDeleteingUnitCategory || isUnitsLoading || isFetchingListOfUnitCategories} />\n            <Modal\n                show={!!unitCategory}\n                type='question'\n                message={`Prajete si vymazať značku \"${unitCategory?.name}\" ?`}\n                onClose={deleteUnitCategoryConfirmHandler}\n            />\n            <Modal\n                show={!!error}\n                message={error}\n                type='error'\n                onClose={() => {\n                    setError(undefined);\n                }}\n            />\n        </>\n    );\n};\n\nexport default UnitCategoriesPage;\n"],"names":["Units","props","error","setError","useState","unit","setUnit","navigate","useNavigate","unitCategoryId","setIsLoading","queryClient","useQueryClient","authCtx","useContext","AuthContext","listOfUnits","isFetchingListOfUnits","listOfUnitsError","useQuery","queryKey","signal","unitApi","data","a","b","useEffect","formatErrorMessage","message","editUnitHandler","id","deleteUnitHandler","deleteUnit","isDeleteingUnit","useMutation","unitId","units","old","u","removed","index","categoryId","context","deleteUnitConfirmHandler","useCallback","confirmed","jsxs","Fragment","jsx","role","Api","Stack","Button","FontAwesomeIcon","faPencil","faTrash","Modal","UnitCategoriesPage","unitCategory","setUnitCategory","isUnitsLoading","setIsUnitsLoading","listOfUnitCategories","isFetchingListOfUnitCategories","listOfUnitCategoriesError","unitCategoryApi","createUnitCategoryHandler","createUnitHandler","editUnitCategoryHandler","deleteUnitCategoryHandler","deleteUnitCategory","isDeleteingUnitCategory","unitCategories","uc","deleteUnitCategoryConfirmHandler","Table","faCirclePlus","Spinner"],"mappings":"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"}